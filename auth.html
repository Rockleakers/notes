<!DOCTYPE html>
<html lang="en">

<head>
    <!-- <meta charset="UTF-8"> -->
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <title>Document</title>

    <script>
        function redirectTo(url) {
            location.replace(url);
        }
    </script>
</head>
<style>
    #timer {
        font-weight: bold;
        color: #000;
    }

    table,
    th,
    td {
        border: 1px solid #fff;
        border-collapse: collapse;
        text-align: center;
    }

    table {
        background: linear-gradient(rgba(4, 9, 30, 0.7),
                rgba(4, 9, 30, 0.7)),
            url('./image/java-bg.png');
        background-size: contain;
        background-position: center center;
        background-repeat: no-repeat;
    }

    th {
        background-color: black;
        color: white;
    }

    td {
        color: #fff;
        /* background-color: rgba(211, 111, 33, .3 ); */
    }

    td:hover {
        background-color: #f00;
    }

    a {
        color: #fff;
    }

    tfoot {
        background-color: #062244;
    }
</style>

<body>
    <!-- <h1 id="welcome-message">Authenticated Page</h1> -->
    <!-- <p>Only logged-in users should see this content.</p> -->
    <p id="timer">Your session will expire in: 00:00:00</p> <!-- Timer display -->
    <button onclick="logout()">Logout</button>
    <button><a href="main.html" style="color: #000;text-decoration: none;">Main page</a></button>
    <table width="100%">
        <caption>Java Programming</caption>
        <thead>
            <tr>
                <th>Ex. No</th>
                <th>Title</th>
                <th>Link</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1a</td>
                <td>Looping Statements - Odd or Even</td>
                <td><a href="fileViewer.html?file=jp/Odd_Even.java">Odd_Even.java</a></td>
            </tr>
            <tr>
                <td>1b</td>
                <td>Simple Calculator</td>
                <td><a href="fileViewer.html?file=jp/calc.java">calc.java</a></td>
            </tr>
            <tr>
                <td>1c</td>
                <td>Sum of n Numbers using for Loop</td>
                <td><a href="fileViewer.html?file=jp/SumOfNNumbers.java">SumOfNNumbers.java</a></td>
            </tr>
            <tr>
                <td>1d</td>
                <td>Fibonacci Series</td>
                <td><a href="fileViewer.html?file=jp/fibo.java">fibo.java</a></td>
            </tr>
            <tr>
                <td>1e</td>
                <td>Sorting</td>
                <td><a href="fileViewer.html?file=jp/ExArraySort.java">ExArraySort.java</a></td>
            </tr>
            <tr>
                <td>1f</td>
                <td>Matrix Addition</td>
                <td><a href="fileViewer.html?file=jp/AddTwoMatrix.java">AddTwoMatrix.java</a></td>
            </tr>
            <tr>
                <td>2a</td>
                <td>Default Constructor</td>
                <td><a href="fileViewer.html?file=jp/DefaultConstructor.java">DefaultConstructor.java</a></td>
            </tr>
            <tr>
                <td>2b</td>
                <td>Parameterized Constructor</td>
                <td><a href="fileViewer.html?file=jp/Student.java">Student.java</a></td>
            </tr>
            <tr>
                <td>2c</td>
                <td>Copy Constructor</td>
                <td><a href="fileViewer.html?file=jp/CopyConstructor.java">CopyConstructor.java</a></td>
            </tr>
            <tr>
                <td>2d</td>
                <td>Method Overloading</td>
                <td><a href="fileViewer.html?file=jp/Sum.java">Sum.java</a></td>
            </tr>
            <tr>
                <td>3a</td>
                <td>Parameter Passing – Call by Value</td>
                <td><a href="fileViewer.html?file=jp/Main.java">Main.java</a></td>
            </tr>
            <tr>
                <td>3b</td>
                <td>Call by Reference</td>
                <td><a href="fileViewer.html?file=jp/callbyref.java">callbyref.java</a></td>
            </tr>
            <tr>
                <td>3c</td>
                <td>Recursion</td>
                <td><a href="fileViewer.html?file=jp/Recursion.java">Recursion.java</a></td>
            </tr>
            <tr>
                <td>4</td>
                <td>String Handling</td>
                <td><a href="fileViewer.html?file=jp/string.java">string.java</a></td>
            </tr>
            <tr>
                <td>5a</td>
                <td>Single Inheritance</td>
                <td><a href="fileViewer.html?file=jp/TestInheritance.java">TestInheritance.java</a></td>
            </tr>
            <tr>
                <td>5b</td>
                <td>Multilevel Inheritance</td>
                <td><a href="fileViewer.html?file=jp/TestInheritance2.java">TestInheritance2.java</a></td>
            </tr>
            <tr>
                <td>5c</td>
                <td>Hierarchical Inheritance</td>
                <td><a href="fileViewer.html?file=jp/TestInheritance3.java">TestInheritance3.java</a></td>
            </tr>
            <tr>
                <td>5d</td>
                <td>Hybrid Inheritance</td>
                <td><a href="fileViewer.html?file=jp/Daughter.java">Daughter.java</a></td>
            </tr>
            <tr>
                <td>5e</td>
                <td>Method Overriding</td>
                <td><a href="fileViewer.html?file=jp/JavaExample.java">JavaExample.java</a></td>
            </tr>
            <tr>
                <td>6a</td>
                <td>Exception Handling - Arithmetic Exception</td>
                <td><a href="fileViewer.html?file=jp/ArithmeticException_Demo.java">ArithmeticException_Demo.java</a>
                </td>
            </tr>
            <tr>
                <td>6b</td>
                <td>Exception Handling - ArrayIndexOutOfBounds</td>
                <td><a href="fileViewer.html?file=jp/ArrayIndexOutOfBound_Demo.java">ArrayIndexOutOfBound_Demo.java</a>
                </td>
            </tr>
            <tr>
                <td>6c</td>
                <td>Exception Handling – finally Block</td>
                <td><a href="fileViewer.html?file=jp/Finally.java">Finally.java</a></td>
            </tr>
            <tr>
                <td>6d</td>
                <td>Exception Handling - throw Keyword</td>
                <td><a href="fileViewer.html?file=jp/ExceptionDemo.java">ExceptionDemo.java</a></td>
            </tr>
            <tr>
                <td>6e</td>
                <td>Exception Handling – throws Keyword</td>
                <td><a href="fileViewer.html?file=jp/ExceptionDemo2.java">ExceptionDemo2.java</a></td>
            </tr>
            <tr>
                <td>7</td>
                <td>Simple Calculator using Grid Layout</td>
                <td><a href="fileViewer.html?file=jp/Calculator.java">Calculator.java</a></td>
            </tr>
            <tr>
                <td>8</td>
                <td>Producer Consumer Problem using Inter Thread Communication</td>
                <td><a href="fileViewer.html?file=jp/Threadexample.java">Threadexample.java</a></td>
            </tr>
            <tr>
                <td rowspan="2">9</td>
                <td>Applet Program (Original)</td>
                <td><a href="fileViewer.html?file=jp/fact.java">fact.java</a></td>
            </tr>
            <tr>
                <td>Applet Program (Modified)</td>
                <td><a href="fileViewer.html?file=jp/facts.java">facts.java</a></td>
            </tr>
            <tr>
                <td rowspan="2">10</td>
                <td rowspan="2">Socket Programming</td>
                <td><a href="fileViewer.html?file=jp/MyServer.java">MyServer.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=jp/MyClient.java">MyClient.java</a></td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td rowspan="2">Study Materials</td>
                <td>Java Lab Manual</td>
                <td><a href="/pdf.js-master/pdf.js-master/web/viewer.html?file=/jp.pdf">Java.pdf</a></td>
            </tr>
            <tr>
                <td>All Java Programs (Compressed format)</td>
                <td><a href="jp.zip">Java.zip</a></td>
            </tr>
        </tfoot>
    </table>

    <table width="100%">
        <caption>Network and Communication</caption>
        <thead>
            <tr>
                <th>Ex. No</th>
                <th>Title</th>
                <th>Link</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td rowspan="2">1</td>
                <td rowspan="2">Create a socket (TCP) between two computers and enable file transfer between them.</td>
                <td><a href="fileViewer.html?file=nc/Pings.java">Pings.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=nc/Pingc.java">Pingc.java</a></td>
            </tr>
            <tr>
                <td rowspan="2">2</td>
                <td rowspan="2">Create a socket Program for Echo/Ping/Talk commands.</td>
                <td><a href="fileViewer.html?file=nc/eserver.java">eserver.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=nc/eclient.java">eclient.java</a></td>
            </tr>
            <tr>
                <td rowspan="2">3</td>
                <td rowspan="2">Develop a simple Chat Program Using TCP Application.</td>
                <td><a href="fileViewer.html?file=nc/Server.java">Server.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=nc/Client.java">Client.java</a></td>
            </tr>
            <tr>
                <td rowspan="2">4</td>
                <td rowspan="2">Develop a simple Chat Program Using TCP Application.</td>
                <td><a href="fileViewer.html?file=nc/UDPserver.java">UDPserver.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=nc/UDPclient.java">UDPclient.java</a></td>
            </tr>
            <tr>
                <td rowspan="2">5</td>
                <td rowspan="2">Implementation of Stop and Wait Protocol and Sliding
                    Window Protocol.</td>
                <td><a href="fileViewer.html?file=nc/swserver.java">swserver.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=nc/swclient.java">swclient.java</a></td>
            </tr>
            <tr>
                <td rowspan="4">6</td>
                <td rowspan="2">Implementation of DNS, SNMP and File Transfer
                    application using TCP and UDP Sockets</td>
                <td><a href="fileViewer.html?file=nc/udpdnsserver.java">udpdnsserver.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=nc/udpdnsclient.java">udpdnsclient.java</a></td>
            </tr>
            <tr>
                <!-- <td rowspan="2">6b</td> -->
                <td rowspan="2">Implementation of DNS, SNMP and File Transfer
                    application using TCP and UDP Sockets (File transfer)</td>
                <td><a href="fileViewer.html?file=nc/Serverfile.java">Serverfile.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=nc/Clientfile.java">Clientfile.java</a></td>
            </tr>
            <tr>
                <td rowspan="2">7</td>
                <td rowspan="2">Create a socket for HTTP for web page upload and
                    download</td>
                <td><a href="fileViewer.html?file=nc/httpserver.java">httpserver.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=nc/httpclient.java">httpclient.java</a></td>
            </tr>
            <tr>
                <td rowspan="2">8</td>
                <td rowspan="2">Develop a program to Display the client’s address at the
                    server end</td>
                <td><a href="fileViewer.html?file=nc/ipserver.java">ipserver.java</a></td>
            </tr>
            <tr>
                <td><a href="fileViewer.html?file=nc/ipclient.java">ipclient.java</a></td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td rowspan="2">Study Materials</td>
                <td>Network and Communication Lab Manual</td>
                <td><a href="/pdf.js-master/pdf.js-master/web/viewer.html?file=/nc.pdf">Network.pdf</a></td>
            </tr>
            <tr>
                <td>All Network Programs (Compressed format)</td>
                <td><a href="nc.zip">Network.zip</a></td>
            </tr>
        </tfoot>
    </table>

    <script src="prevent.js"></script>
    <script>

        let countdownInterval; // Variable to hold the countdown interval

        // Function to check if the session is valid
        function checkSession() {
            const userName = localStorage.getItem('userName');
            const sessionExpiry = localStorage.getItem('sessionExpiry');

            // If session exists
            if (userName && sessionExpiry) {
                // Check if the session has expired
                if (Date.now() > sessionExpiry) {
                    console.log('Session expired. Redirecting to login.');
                    clearSession();
                    return false; // Session is not valid
                } else {
                    console.log('Session is valid for user:', userName);
                    return true; // Session is valid
                }
            }
            console.log('No session found. Redirecting to login.');
            return false; // No session found
        }

        // Function to clear session data
        function clearSession() {
            localStorage.removeItem('userName');
            localStorage.removeItem('sessionExpiry');
            location.href = "index.html"; // Redirect to the login page
        }

        // Function to display the welcome message
        function displayWelcomeMessage() {
            const userName = localStorage.getItem('userName');
            console.log('Welcome, ' + userName);
            // if (userName) {
            //     document.getElementById('welcome-message').textContent = "Welcome, " + userName + "!";
            // }
        }

        // Function to start the countdown timer
        function startCountdown() {
            const sessionExpiry = localStorage.getItem('sessionExpiry');

            // Update the timer every second
            countdownInterval = setInterval(() => {
                let remainingTime = sessionExpiry - Date.now(); // Calculate remaining time
                // remainingTime -= 1000; // Decrease by 1 second

                if (remainingTime <= 0) {
                    clearInterval(countdownInterval); // Clear the interval
                    clearSession(); // Redirect if the time is up
                } else {
                    const seconds = Math.floor((remainingTime / 1000) % 60);
                    const minutes = Math.floor((remainingTime / 1000 / 60) % 60);
                    const hours = Math.floor((remainingTime / 1000 / 3600) % 24);
                    const formattedTime = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                    document.getElementById('timer').textContent = `Your session will expire in: ${formattedTime}`;
                }
            }, 1000); // Update every second
        }

        // Check the session immediately on page load
        window.onload = function () {
            if (checkSession()) {
                displayWelcomeMessage(); // Show welcome message only if session is valid
                startCountdown(); // Start the countdown timer
                // Set up an interval to check the session every 5 seconds
                setInterval(function () {
                    if (!checkSession()) {
                        clearSession(); // Redirect if session is invalid
                    }
                }, 10000);
                // Check every 10000 milliseconds (10 seconds)
            } else {
                clearSession(); // Redirect if session is invalid
            }
        };

        function logout() {
            clearSession(); // Use the clearSession function for logout
        }
    </script>
</body>

</html>